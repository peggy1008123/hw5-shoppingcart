{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u4F5C\\u696D\\u7528\\u6A94\\u6848\\\\\\u524D\\u7AEF\\\\hw5-shoppingcart\\\\src\\\\components\\\\shoppingproducts.js\",\n    _s = $RefreshSig$();\n\nimport { Modal, Button, Select } from \"antd\";\nimport { useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { StoreContext } from \"../store\";\nimport { CartIcon } from \"./Icons\";\nimport { cartItemAdd, cartItemRemove } from \"../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nexport default function CartModal({\n  isModalVisible,\n  toggleModal\n}) {\n  _s();\n\n  const {\n    state: {\n      cartItems\n    },\n    dispatch\n  } = useContext(StoreContext);\n\n  const handleCancel = () => toggleModal(!isModalVisible);\n\n  const getTotalPrice = () => {\n    return cartItems.length > 0 ? cartItems.reduce((sum, item) => sum + item.price * item.qty, 0) : 0;\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  }, [cartItems]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: \"Shopping Bag\",\n    visible: isModalVisible,\n    onCancel: handleCancel,\n    footer: null,\n    children: [cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Cart is empty \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 40\n    }, this) : cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"cart-item\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${item.id}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-image\",\n          onClick: handleCancel,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.image,\n            alt: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 21\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-item-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-name\",\n          children: [\" \", item.name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-qty\",\n          children: [\"Qty: \", \"   \", \" \", /*#__PURE__*/_jsxDEV(Select, {\n            defaultValue: item.qty,\n            className: \"select-style\",\n            onChange: qty => cartItemAdd(dispatch, item, qty),\n            children: [[...Array(item.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(Option, {\n              value: x + 1,\n              children: [\" \", x + 1, \" \"]\n            }, x + 1, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 75\n            }, this)), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 36\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 73\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 28\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-item-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-price\",\n          children: [\"$ \", item.price * item.qty, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item-delete\",\n          onClick: () => cartItemRemove(dispatch, item.id),\n          children: \"x \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 27\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 27\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 41\n    }, this)), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-total-price-wrap\",\n      children: [\"Total \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-total-price\",\n        children: [\" $ \", getTotalPrice(), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n      className: \"cart-modal-btn\",\n      type: \"primary\",\n      children: [/*#__PURE__*/_jsxDEV(CartIcon, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 12\n        },\n        children: \" Start Checkout \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 12\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 14\n  }, this);\n}\n\n_s(CartModal, \"VjtWOMCBv6FcrEwn7n45PJ3qstI=\");\n\n_c = CartModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartModal\");","map":{"version":3,"sources":["C:/作業用檔案/前端/hw5-shoppingcart/src/components/shoppingproducts.js"],"names":["Modal","Button","Select","useEffect","useContext","Link","StoreContext","CartIcon","cartItemAdd","cartItemRemove","Option","CartModal","isModalVisible","toggleModal","state","cartItems","dispatch","handleCancel","getTotalPrice","length","reduce","sum","item","price","qty","localStorage","setItem","JSON","stringify","map","id","image","name","Array","countInStock","keys","x","marginLeft"],"mappings":"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","sourcesContent":["import { Modal, Button, Select } from \"antd\";\r\nimport { useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { StoreContext } from \"../store\"\r\nimport { CartIcon } from \"./Icons\";\r\nimport { cartItemAdd, cartItemRemove } from \"../actions\";\r\nconst { Option } = Select;\r\n\r\nexport default function CartModal({ isModalVisible, toggleModal }) {\r\n    const { state: { cartItems }, dispatch } = useContext(StoreContext);\r\n    const handleCancel = () => toggleModal(!isModalVisible);\r\n    const getTotalPrice = () => {\r\n        return (cartItems.length > 0) ?\r\n            cartItems.reduce((sum, item) => sum + item.price * item.qty, 0) :\r\n            0;\r\n    }\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n    }, [cartItems])\r\n\r\n    return ( <\r\n        Modal title = \"Shopping Bag\"\r\n        visible = { isModalVisible }\r\n        onCancel = { handleCancel }\r\n        footer = { null } >\r\n        {\r\n            cartItems.length === 0 ? ( <\r\n                div > Cart is empty < /div>\r\n            ) : (\r\n                cartItems.map(item => ( <\r\n                    li key = { item.id }\r\n                    className = \"cart-item\" >\r\n                    <\r\n                    Link to = { `/product/${item.id}` } >\r\n                    <\r\n                    div className = \"cart-image\"\r\n                    onClick = { handleCancel } >\r\n                    <\r\n                    img src = { item.image }\r\n                    alt = { item.name }\r\n                    /> <\r\n                    /div> <\r\n                    /Link> <\r\n                    div className = \"cart-item-content\" >\r\n                    <\r\n                    div className = \"cart-name\" > { item.name } < /div> <\r\n                    div className = \"product-qty\" >\r\n                    Qty: { \"   \" } <\r\n                    Select defaultValue = { item.qty }\r\n                    className = \"select-style\"\r\n                    onChange = {\r\n                        (qty) => cartItemAdd(dispatch, item, qty) } >\r\n                    {\r\n                        [...Array(item.countInStock).keys()].map((x) => ( <\r\n                            Option key = { x + 1 }\r\n                            value = { x + 1 } > { x + 1 } <\r\n                            /Option>\r\n                        ))\r\n                    } <\r\n                    /Select> <\r\n                    /div> <\r\n                    /div> <\r\n                    div className = \"cart-item-end\" >\r\n                    <\r\n                    div className = \"cart-price\" >\r\n                    $ { item.price * item.qty } <\r\n                    /div> <\r\n                    div className = \"cart-item-delete\"\r\n                    onClick = {\r\n                        () => cartItemRemove(dispatch, item.id) } >\r\n                    x <\r\n                    /div> <\r\n                    /div>\r\n\r\n                    <\r\n                    /li>\r\n                ))\r\n            )\r\n        } <\r\n        div className = \"cart-total-price-wrap\" >\r\n        Total <\r\n        div className = \"cart-total-price\" > $ { getTotalPrice() } < /div> <\r\n        /div> <\r\n        Button className = \"cart-modal-btn\"\r\n        type = \"primary\" >\r\n        <\r\n        CartIcon size = { 20 }\r\n        /> <\r\n        span style = {\r\n            { marginLeft: 12 } } > Start Checkout < /span> <\r\n        /Button> <\r\n        /Modal>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}